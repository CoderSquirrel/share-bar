/*! Globo Share - v1.0.0 - 2014-06-24
* Copyright (c) 2014 Time Core; Licensed MIT */
void 0===window.glb&&(window.glb={}),function(a,b){"use strict";function c(b){b&&b.preventDefault?b.preventDefault():a.event&&(a.event.returnValue=!1)}function d(a,b,c){return a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent?a.attachEvent("on"+b,c):void 0}glb.share={init:function(a){this.mergeOptions(a),this.containers=b.querySelectorAll(this.selector),this.createBars(),this.bindOpenPopup()},mergeOptions:function(a){var b=this,c={selector:".glb-share",classPopup:"share-popup",networks:{facebook:b.createFacebookButton,twitter:b.createTwitterButton,google:b.createGoogleButton,pinterest:b.createPinterestButton,whatsapp:b.createWhatsappButton,email:b.createEmailButton},showMoreButtonOnDevices:!0,numberOfNetworksBeforeMoreButton:3};a||(a={});for(var d in c)this[d]=a[d]||c[d]},createBars:function(){var a=this.containers,b=0;for(b=0;b<a.length;b++)this.createBar(a[b])},createBar:function(a,b){var c="";b=b||this.networks;for(c in b)b[c].call(this,a)},bindOpenPopup:function(){for(var a=b.querySelectorAll("."+this.classPopup),c=0;c<a.length;c++)d(a[c],"click",this.openPopup)},openPopup:function(b){var d=a.open(this.getAttribute("href"),"popup","height=400,width=500,left=10,top=10,resizable=yes,scrollbars=no,toolbar=no,menubar=no,location=no,directories=no,status=no");d.focus(),c(b)},getMetadataFromElement:function(b){var c=a.encodeURIComponent,d={url:c(b.getAttribute("data-url")||""),title:c(b.getAttribute("data-title")||""),imageUrl:c(b.getAttribute("data-image-url")||"")};return d},deviceIsIphone:function(){return null!==navigator.userAgent.match(/iPhone/i)},createButton:function(a,c,d){var e=b.createElement("div");return e.className=c,e.innerHTML=d,a.appendChild(e),e},createFacebookButton:function(a){var b=this.getMetadataFromElement(a);this.createButton(a,"share-button share-facebook",['<a class="'+this.classPopup+'" href="http://www.facebook.com/sharer/sharer.php?u='+b.url+'" title="compartilhar facebook">',"   <span>recomendar</span>","</a>"].join(""))},createTwitterButton:function(a){var b=this.getMetadataFromElement(a);this.createButton(a,"share-button share-twitter",['<a class="'+this.classPopup+'" href="https://twitter.com/share?url='+b.url+"&amp;text="+b.title+'%20%23globo.com" title="compartilhar twitter">',"   <span>tweetar</span>","</a>"].join(""))},createGoogleButton:function(a){var b=this.getMetadataFromElement(a);this.createButton(a,"share-button share-googleplus",['<a class="'+this.classPopup+'" href="https://plus.google.com/share?url='+b.url+'" title="compartilhar google+">',"   <span>google+</span>","</a>"].join(""))},createPinterestButton:function(a){var b=this.getMetadataFromElement(a);this.createButton(a,"share-button share-pinterest",['<a class="'+this.classPopup+'" href="http://www.pinterest.com/pin/create/button/?url='+b.url+"&amp;media="+b.imageUrl+"&amp;description="+b.title+'" title="compartilhar pinterest">',"   <span>pinterest</span>","</a>"].join(""))},createWhatsappButton:function(a){if(!this.deviceIsIphone())return!1;var b=this.getMetadataFromElement(a);this.createButton(a,"share-button share-whatsapp",['<a href="whatsapp://send?text='+b.title+"%20"+b.url+'" title="compartilhar whatsapp">',"   <span>whatsapp</span>","</a>"].join(""))},createEmailButton:function(a){var b=this.getMetadataFromElement(a);this.createButton(a,"share-button share-email",['<a href="mailto:?subject='+b.title+"&amp;body="+b.url+'" title="compartilhar email">',"   <span>email</span>","</a>"].join(""))},createMoreButton:function(a){var c="",d="";return this.showMoreButtonOnDevices?(c=this.createButton(a,"share-more",['<a href="#share" title="mais opções de compartilhamento">',"   <span>mais opções de compartilhamento</span>","</a>"].join("")),d=b.querySelectorAll(".share-button"),void c.parentNode.insertBefore(c,d[this.numberOfNetworksBeforeMoreButton])):!1}}}(window,document);